<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>공지사항 목록</title>
</head>
<body>
<h1>공지사항</h1>
<a th:href="@{/admin/notices/new}">새 공지 작성</a>
<table border="1">
    <thead><tr><th>ID</th><th>제목</th><th>작성자</th><th>작성일</th><th>관리</th></tr></thead>
    <tbody>
    <tr th:each="notice : ${notices.content}">
        <td th:text="${notice.id}">1</td>
        <td th:text="${notice.title}">제목</td>
        <td th:text="${notice.user != null ? notice.user.username : 'N/A'}">admin</td>
        <td th:text="${T(java.time.format.DateTimeFormatter).ofPattern('yyyy-MM-dd HH:mm').format(notice.createdAt)}">2025-01-01</td>
        <td>
            <a th:href="@{|/admin/notices/${notice.id}/edit|}">수정</a>
            <form th:action="@{|/admin/notices/${notice.id}/delete|}" method="post" style="display:inline">
                <button type="submit" onclick="return confirm('삭제하시겠습니까?')">삭제</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>

<div>
    <span th:if="${notices.hasPrevious()}">
        <a th:href="@{/admin/notices(page=${notices.number-1})}">이전</a>
    </span>
    <span>페이지 <span th:text="${notices.number+1}">1</span> / <span th:text="${notices.totalPages}">1</span></span>
    <span th:if="${notices.hasNext()}">
        <a th:href="@{/admin/notices(page=${notices.number+1})}">다음</a>
    </span>
</div>

<a th:href="@{/admin/users}">사용자 관리</a>
</body>
</html>
